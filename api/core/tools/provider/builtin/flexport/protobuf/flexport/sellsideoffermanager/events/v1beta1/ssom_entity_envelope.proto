// TEAM: ocean_planning

syntax = "proto3";

package flexport.sellsideoffermanager.events.v1beta1;

import "flexport/sellsideoffermanager/events/v1beta1/allocation_entity.proto";
import "flexport/sellsideoffermanager/events/v1beta1/clientgroup_entity.proto";
import "flexport/sellsideoffermanager/events/v1beta1/offer_entity.proto";
import "flexport/sellsideoffermanager/events/v1beta1/portgroup_entity.proto";
import "flexport/sellsideoffermanager/events/v1beta1/quotedallocation_entity.proto";
import "google/protobuf/timestamp.proto";

message SsomEntityEnvelope {
  string entity_id = 1;

  oneof entity_payload {
    AllocationEntity allocation_entity = 2;
    ClientGroupEntity clientgroup_entity = 3;
    OfferEntity offer_entity = 4;
    PortGroupEntity portgroup_entity = 5;
    QuotedAllocationEntity quotedallocation_entity = 6;
  }

  Operation operation = 7;
  google.protobuf.Timestamp operation_time = 8;
  uint64 revision = 9;
}

enum Operation {
  OPERATION_INVALID = 0;
  OPERATION_CREATE = 1;
  OPERATION_UPDATE = 2;
  OPERATION_DELETE = 3;
}
