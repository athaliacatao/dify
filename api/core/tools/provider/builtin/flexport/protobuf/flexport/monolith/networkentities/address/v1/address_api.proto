// TEAM: network_entities

// DEPRECATED. See protobuf/flexport/network/v1beta1/network_api.proto instead.

syntax = "proto3";

package flexport.monolith.networkentities.address.v1;

import "flexport/monolith/networkentities/address/v1/address.proto";

option java_multiple_files = true;
option java_outer_classname = "AddressApiProto";
option java_package = "com.flexport.monolith.networkentities.address.v1";
option ruby_package = "Flexport::Monolith::NetworkEntities::Address::V1";

// This service is used by any NIS to retrieve full Address entity from monolith DB.
// Initially it will be used by Finance team's lately extracted NIS.
// Production readiness: https://docs.google.com/document/d/1u5ps7A5tS-Mj-hd3AT8A_tH4U5L1uNOzVQb-UdoFen0/edit#
service AddressAPI {
  // Get address entity for a given fid.
  rpc GetAddress(GetAddressRequest) returns (GetAddressResponse);
  // Get fid from address dbid.
  rpc GetFidsForAddressDbids(GetFidsForAddressDbidsRequest) returns (GetFidsForAddressDbidsResponse);
}

message GetAddressRequest {
  string address_fid = 1;
}

message GetAddressResponse {
  AddressDTO address_dto = 1;
}

message GetFidsForAddressDbidsRequest {
  repeated int32 address_dbids = 1;
}

message GetFidsForAddressDbidsResponse {
  repeated int32 address_dbids = 1;
  repeated string address_fids = 2;
}
