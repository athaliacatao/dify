// TEAM: customs_platform

syntax = "proto3";

package flexport.customs.taskmanager.task.v1;

import "flexport/customs/taskmanager/task/v1/task_types.proto";
import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_outer_classname = "TaskProto";
option java_package = "com.flexport.customs.taskmanager.task.v1";
option ruby_package = "Flexport::Customs::TaskManager::Task::V1";

message Task {
  string fid = 1;
  TaskStatus status = 2;
  // The task type also contains the context that is required to complete the task. Note that this will often be
  // part of the unique identifier of the task. For example, for product classification the country to classify
  // for will be part of the unique identifier and will always be required to create or update a task of that type.
  TaskType type = 3;
  string reference_fid = 4;

  // If the task is related to a customs filing order its fid will be provided here. Internally the order is used
  // to populate the destination country for the task, which may be used for task assignment.
  optional string customs_filing_order_fid = 5;
  optional string client_fid = 6;

  google.protobuf.Timestamp due_time = 7;
}

enum TaskStatus {
  TASK_STATUS_INVALID = 0;
  TASK_STATUS_READY_FOR_WORK = 1;
  TASK_STATUS_COMPLETED = 2;
  TASK_STATUS_NOT_REQUIRED = 3;
  TASK_STATUS_REPORTED = 4;
}
