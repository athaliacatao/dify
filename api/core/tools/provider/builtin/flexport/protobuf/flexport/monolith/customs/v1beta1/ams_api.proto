// TEAM: customs_platform

syntax = "proto3";

package flexport.monolith.customs.v1beta1;

import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_outer_classname = "AmsApiProto";
option java_package = "com.flexport.monolith.customs.v1beta1";
option ruby_package = "Flexport::Monolith::Customs::V1Beta1";

// API for requesting info about AMS
service AmsAPI {
  // List AMS statuses for the bill numbers requested
  rpc ListAmsFilingStatuses(ListAmsFilingStatusesRequest) returns (ListAmsFilingStatusesResponse);
}

enum AmsFilingStatus {
  AMS_FILING_STATUS_INVALID = 0;
  AMS_FILING_STATUS_FILED = 1;
  AMS_FILING_STATUS_BILL_MATCH = 2;
  AMS_FILING_STATUS_EXCEPTION = 3;
  AMS_FILING_STATUS_UNKNOWN = 4;
  AMS_FILING_STATUS_NOT_FILED = 5;
}

message ListAmsFilingStatusesRequest {
  repeated string bill_numbers = 1;
}

message AmsFilingStatusResponse {
  AmsFilingStatus status = 1;
  google.protobuf.Timestamp timestamp = 2;
}

message ListAmsFilingStatusesResponse {
  map<string, AmsFilingStatusResponse> statuses_by_bill_number = 1;
}
