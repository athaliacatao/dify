// TEAM: origin_ops

syntax = "proto3";

package flexport.monolith.exceptions.pubsub.v1beta1;

option java_multiple_files = true;
option java_outer_classname = "PubSubApiProto";
option java_package = "com.flexport.monolith.exceptions.pubsub.v1beta1";
option ruby_package = "Flexport::Monolith::Exceptions::PubSub::V1Beta1";

// API for endpoints the Exceptions Engine exposes to trigger PubSub operations.
// Production readiness: https://docs.google.com/document/d/15qUl7vBQt92SZO3kWqYq8TcVb8wgiyABiWZTykECkdI/edit
service PubSubAPI {
  // Trigger the PubSub event to create a Jetski task for this exception.
  rpc TriggerPubSub(TriggerPubSubRequest) returns (TriggerPubSubResponse);
}

message TriggerPubSubRequest {
  string exception_fid = 1;
}

message TriggerPubSubResponse {
  string message = 1;
}
