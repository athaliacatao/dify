// TEAM: finance_platform

syntax = "proto3";

package flexport.payments.payment.draft.v1beta1;

option java_multiple_files = true;
option java_outer_classname = "PaymentProto";
option java_package = "com.flexport.payments.payment.draft.v1beta1";
option ruby_package = "Flexport::Payments::Payment::Draft::V1Beta1";

import "flexport/payments/paymentmethod/v1beta1/payment_method.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

// A payment to invoices.
message PaymentDto {
  google.protobuf.Timestamp issued_at_time = 2;
  google.protobuf.Timestamp created_at_time = 3;
  google.protobuf.Timestamp updated_at_time = 17;
  PaymentStatus payment_status = 4;
  google.protobuf.StringValue currency_code = 5;
  flexport.payments.paymentmethod.v1beta1.PaymentKind payment_method_kind = 6;
  google.protobuf.StringValue stripe_code = 7;
  google.protobuf.StringValue name = 8;
  google.protobuf.StringValue description = 9;
  repeated int64 document_ids = 10;
  google.protobuf.Int32Value id = 11;
  google.protobuf.Int32Value payment_method_id = 12;
  google.protobuf.Int32Value broker_id = 13;
  google.protobuf.Int32Value receiving_entity_id = 14;
  google.protobuf.Int32Value sender_id = 15;
  google.protobuf.Int32Value amount_in_smallest_unit = 18;
  google.protobuf.DoubleValue amount_decimal = 19;
  google.protobuf.Int64Value amount_micros = 20;
  google.protobuf.StringValue amount_formatted = 21;
  google.protobuf.BoolValue failed = 23;
  google.protobuf.BoolValue succeeded = 24;
  google.protobuf.BoolValue pending = 25;
  google.protobuf.BoolValue capital_financing = 26;
  google.protobuf.StringValue refund_reason = 27;
  flexport.payments.paymentmethod.v1beta1.PaymentMethodDto payment_method = 28;
  repeated PaymentLineItemDto payment_line_items = 29;
}

// Payment status.
enum PaymentStatus {
  PAYMENT_STATUS_INVALID = 0;
  PAYMENT_STATUS_FAILED = 1;
  PAYMENT_STATUS_SUCCEEDED = 2;
  PAYMENT_STATUS_PENDING = 3;
  PAYMENT_STATUS_INITIALIZED = 4;
}

// Payment line item dto used for retrieve api.
message PaymentLineItemDto {
  google.protobuf.Int32Value id = 1;
  google.protobuf.Int32Value payment_id = 2;
  google.protobuf.Int32Value amount_paid = 3;
  google.protobuf.Int64Value amount_paid_micros = 4;
  google.protobuf.DoubleValue amount_paid_decimal = 5;
  google.protobuf.Int32Value total = 6;
  google.protobuf.Int64Value total_micros = 7;
  google.protobuf.DoubleValue total_decimal = 8;
  google.protobuf.StringValue payment_method_description = 9;
  google.protobuf.StringValue payment_method_name = 10;
  google.protobuf.Int64Value invoice_amount_micros = 11;
  google.protobuf.Int32Value invoice_id = 12;
  google.protobuf.Int32Value finance_invoice_id = 13;
  google.protobuf.Timestamp issued_at_time = 14;
  repeated RefundDto refunds = 15;
  SurchargeItemDto surcharge_item = 16;
  google.protobuf.StringValue currency_code = 17;
}

// Refund dto on payment line item.
message RefundDto {
  google.protobuf.Int32Value id = 1;
  google.protobuf.Int32Value amount_refunded = 2;
  google.protobuf.StringValue reason = 3;
  google.protobuf.Timestamp refunded_at_time = 4;
  repeated int64 document_ids = 5;
}

// Surcharge item dto on payment line item.
message SurchargeItemDto {
  google.protobuf.Int32Value id = 1;
  google.protobuf.Int32Value amount_paid = 2;
  google.protobuf.StringValue name = 3;
  google.protobuf.BoolValue refunded = 4;
  google.protobuf.StringValue description = 5;
  google.protobuf.Int32Value total = 6;
  google.protobuf.Int64Value total_micros = 7;
  google.protobuf.DoubleValue total_decimal = 8;
  google.protobuf.StringValue currency_code = 9;
}
