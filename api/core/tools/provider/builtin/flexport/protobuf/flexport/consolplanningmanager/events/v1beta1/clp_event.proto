// TEAM: perseus

syntax = "proto3";

package flexport.consolplanningmanager.events.v1beta1;

import "flexport/consolplanningmanager/shipment/v1beta1/shipment.proto";
import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_outer_classname = "ClpEventProto";
option java_package = "com.flexport.consolplanningmanager.events.v1beta1";
option ruby_package = "Flexport::ConsolPlanningManager::Events::V1Beta1";

enum ClpEventStatus {
  CLP_EVENT_STATUS_INVALID = 0;
  CLP_EVENT_STATUS_ACTIVE = 1;
  CLP_EVENT_STATUS_ARCHIVED = 2;
}

message ClpEventDetails {
  repeated flexport.consolplanningmanager.shipment.v1beta1.DemandShipment demand_shipment = 1;
  google.protobuf.Timestamp etd = 2;
  google.protobuf.Timestamp cy_cutoff_time = 3;
  google.protobuf.Timestamp si_cutoff_time = 4;
  google.protobuf.Timestamp vgm_cutoff_time = 5;
  string final_port_name = 6;
  string vessel_name = 7;
  string voyage_name = 8;
  string so_number = 9;
  ContainerSize container_size = 10;
  ContainerType container_type = 11;
  // port names
  string port_of_loading = 12;
  string port_of_unloading = 13;
}

enum ContainerSize {
  CONTAINER_SIZE_INVALID = 0;
  CONTAINER_SIZE_TWENTY_FT = 1;
  CONTAINER_SIZE_TWENTY_FT_HC = 2;
  CONTAINER_SIZE_FOURTY_FT = 3;
  CONTAINER_SIZE_FOURTY_FT_HC = 4;
  CONTAINER_SIZE_FOURTY_FIVE_FT_HC = 5;
  CONTAINER_SIZE_FIFTY_THREE_FT = 6;
  CONTAINER_SIZE_FIFTY_THREE_FT_HC = 7;
}

enum ContainerType {
  CONTAINER_TYPE_INVALID = 0;
  CONTAINER_TYPE_DRY = 1;
  CONTAINER_TYPE_FLAT_RACK = 2;
  CONTAINER_TYPE_HEADLOAD = 3;
  CONTAINER_TYPE_OPEN = 4;
  CONTAINER_TYPE_REEFER = 5;
  CONTAINER_TYPE_TANK = 6;
  CONTAINER_TYPE_VENTILATED = 7;
  CONTAINER_TYPE_BULK = 8;
  CONTAINER_TYPE_SPECIAL = 9;
}

enum ClpType {
  CLP_TYPE_INVALID = 0;
  CLP_TYPE_FINAL = 1;
  CLP_TYPE_DRAFT = 2;
}

// Clp document event
message ClpEvent {
  string master_shipment_fid = 1;
  // Current clp document status
  ClpEventStatus status = 2;
  google.protobuf.Timestamp updated_time = 3;
  // Warehouse fid, e.g, flx::core:terminal_or_cfs:dbid/846407
  string warehouse_fid = 4;
  oneof clp_info {
    ClpEventDetails details = 5;
  }
  // Document fid associated with this event
  string document_fid = 6;
  ClpType clp_type = 7;
}
