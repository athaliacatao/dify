// TEAM: customs_platform

syntax = "proto3";

package flexport.customs.escalationengine.v1;

option java_multiple_files = true;
option java_outer_classname = "CustomsFilingOrderEscalationProto";
option java_package = "com.flexport.customs.escalationengine.v1";
option ruby_package = "Flexport::Customs::EscalationEngine::V1";

// Escalation for a Customs Filing Order.
message CustomsFilingOrderEscalation {
  // The type of escalation.
  enum Type {
    TYPE_INVALID = 0;
    // M1 task 9
    TYPE_ETD_OR_ETA_MISSING = 1;
    // M1 task 10
    //TYPE_MISSING_CONTAINERS = 2;
    // M1 task 11
    TYPE_PORTS_MISSING = 3;
    // M1 task 12
    TYPE_INVOLVED_PARTIES_NOT_SET = 4;
    // M1 task 13
    TYPE_FORWARDING_AGENT_NOT_SET = 5;
    // M1 task TBD...
    TYPE_MBL_NOT_VALID = 6;
    TYPE_PRE_DEPARTURE_DOCUMENTS_MISSING = 7;
    TYPE_ROUTE_MISSING = 8;
    TYPE_MANIFEST_QUANTITY_MISMATCH = 9;
    TYPE_CARGO_MANIFEST_MISSING = 10;
    TYPE_US_ISF_FILING_REQUIRED_BUT_NOT_PRESENT = 11;
  }
  Type type = 1;

  oneof context {
    InvolvedPartiesNotSetContext involved_parties_not_set_context = 2;
  }

  message InvolvedPartiesNotSetContext {
    // These should contain a JsonPath reference to a field of the involved party as per ADR-9. All fields that are required
    // should be included in this list. Even the ones that already have a value.
    repeated string required_fields = 1;
  }
}
