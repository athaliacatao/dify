// TEAM: kingsroad

syntax = "proto3";

package flexport.monolith.shipperexp.task.v1beta1;

option java_multiple_files = true;
option java_outer_classname = "ClientTaskApiProto";
option java_package = "com.flexport.monolith.shipperexp.task.v1beta1";
option ruby_package = "Flexport::Monolith::ShipperExp::Task::V1Beta1";

service ClientTaskAPI {
  rpc FetchAggregatedClientTasksDueDates(FetchAggregatedClientTasksDueDatesRequest) returns (FetchAggregatedClientTasksDueDatesResponse);
  rpc FetchShippingDocumentsIdentificationLink(FetchShippingDocumentsIdentificationLinkRequest) returns (FetchShippingDocumentsIdentificationLinkResponse) {}
}

message FetchAggregatedClientTasksDueDatesRequest {
  string shipment_fid = 1;
  string language_code = 2; // ISO 639-1 language code - ISO 3166-1 A-2 country code, i.e, en, zh-TW, etc.
}

message FetchAggregatedClientTasksDueDatesResponse {
  repeated ClientTaskDueDate client_task_due_dates = 1;
}

message ClientTaskDueDate {
  string client_task_types = 1; // Aggregated types, i.e., "Submit SI, Upload VGM, Approve HBL Draft"
  string due_date = 2; // Due date in local time
}

message FetchShippingDocumentsIdentificationLinkRequest{
  string shipment_fid = 1;
  string mail_locale = 2;
}

message FetchShippingDocumentsIdentificationLinkResponse{
  string url = 1;
}
