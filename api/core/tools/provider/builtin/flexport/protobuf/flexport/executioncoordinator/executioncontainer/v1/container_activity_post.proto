// TEAM: sutro

syntax = "proto3";

package flexport.executioncoordinator.executioncontainer.v1;

import "flexport/executioncoordinator/executiontaskstateevent/v1/details/cargo_transit_date_changed.proto";
import "flexport/executioncoordinator/types/enums/v1/drayage_warehouse_visit_type.proto";
import "flexport/os/v1/types/walltimedate/v1/wall_time_date.proto";
import "flexport/os/v1/types/walltimedatetime/v1/wall_time_date_time.proto";

option java_multiple_files = true;
option java_outer_classname = "ContainerActivityPostProto";
option java_package = "com.flexport.executioncoordinator.executioncontainer.v1";
option ruby_package = "Flexport::ExecutionCoordinator::ExecutionContainer::V1";

message ContainerActivityPost {
  //
  // The type of activity that we are storing.
  ContainerActivityType activity_type = 1;
  //
  // The type of the cargo transit date, eg "actual" or "scheduled".
  flexport.executioncoordinator.executiontaskstateevent.v1.CargoTransitDateType date_type = 2;
  //
  // The value of the activity (e.g. a date)
  oneof value {
    // The date the event happened (or will happen)
    flexport.os.v1.types.walltimedate.v1.WallTimeDate date = 3;
    // The datetime the event happened (or will happen)
    flexport.os.v1.types.walltimedatetime.v1.WallTimeDateTime datetime = 11;
    // The warehouse visit type
    flexport.executioncoordinator.types.enums.v1.DrayageWarehouseVisitType warehouse_visit_type = 8;
  }
  //
  // The place this occurred at.
  string place_fid = 4;
  //
  // Additional metadata. For example, last free day status and source.
  string attributes = 5;
  //
  string container_fid = 6 [deprecated = true];
  //
  // The user fid who created update
  string user_fid = 7;
  //
  // The fid of this post.
  string fid = 9;
  //
  // The fid of execution container this post belongs to.
  string execution_container_fid = 10;
}

enum ContainerActivityType {
  CONTAINER_ACTIVITY_TYPE_CONTAINER_INVALID = 0;
  CONTAINER_ACTIVITY_TYPE_CONTAINER_DEVAN_DATE = 1;
  CONTAINER_ACTIVITY_TYPE_CONTAINER_DISCHARGE_DATE = 2;
  CONTAINER_ACTIVITY_TYPE_CONTAINER_EMPTY_CONTAINER_RETURN_DATE = 3;
  CONTAINER_ACTIVITY_TYPE_CONTAINER_LAST_FREE_DAY = 4;
  CONTAINER_ACTIVITY_TYPE_AVAILABLE_FOR_PICKUP_DATE = 5;
  CONTAINER_ACTIVITY_TYPE_EMPTY_AVAILABLE_FOR_PICKUP_DATE = 6;
  CONTAINER_ACTIVITY_TYPE_CONTAINER_LAST_FREE_DAY_DETENTION = 7;
  CONTAINER_ACTIVITY_TYPE_DRAYAGE_WAREHOUSE_VISIT_TYPE = 8;
  CONTAINER_ACTIVITY_TYPE_CONTAINER_LADEN_ON_BOARD_DATE = 9;
  CONTAINER_ACTIVITY_TYPE_EMPTY_RELEASE_DATE = 10;
  CONTAINER_ACTIVITY_TYPE_EARLIEST_RETURN_DATE = 11;
  // This represents the date that the container passes all flexport checks (credit unblocked, hbl released)
  // This date is independent from the available for pickup date. A container can pass flexport checks and
  // be marked as ready for pickup even if the terminal has a hold on the container.
  CONTAINER_ACTIVITY_TYPE_READY_FOR_PICKUP = 12;
  CONTAINER_ACTIVITY_TYPE_EMPTY_CONTAINER_PICKUP_DATE = 13;
  CONTAINER_ACTIVITY_TYPE_CFS_LAST_FREE_DAY = 14;
}
