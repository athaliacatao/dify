// TEAM: infrastructure

syntax = "proto3";

package flexport.featureswitch.v1beta1;

option java_multiple_files = true;
option java_outer_classname = "SwitchesApiProto";
option java_package = "com.flexport.featureswitch.v1beta1";
option ruby_package = "Flexport::FeatureSwitch::V1Beta1";

// The switch service definition.
service SwitchesAPI {
  // Get the current state of the switch.
  rpc GetState(GetStateRequest) returns (GetStateResponse);
}

// The request message containing switch slug and key.
message GetStateRequest {
  // Switch name.
  string slug = 1;
  // This should typically be dbid.
  string key = 2;
}

// The response message containing the switch state
message GetStateResponse {
  bool active = 1;
}
