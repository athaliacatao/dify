// TEAM: service_catalog

syntax = "proto3";

package flexport.catalog.servicearea.v1;

option java_multiple_files = true;
option java_outer_classname = "ServiceAreaApiProto";
option java_package = "com.flexport.catalog.servicearea.v1";
option ruby_package = "Flexport::Catalog::ServiceArea::V1";

import "flexport/catalog/servicearea/v1/service_area.proto";
import "google/protobuf/wrappers.proto";

// The service area service definition.
service ServiceAreaAPI {
  // Create service areas.
  rpc CreateServiceAreas(CreateServiceAreasRequest) returns (CreateServiceAreasResponse);
  // Update a service area.
  rpc UpdateServiceArea(UpdateServiceAreaRequest) returns (UpdateServiceAreaResponse);
  // Delete a service area.
  rpc DeleteServiceArea(DeleteServiceAreaRequest) returns (DeleteServiceAreaResponse);
  // Get a service area.
  rpc GetServiceArea(GetServiceAreaRequest) returns (GetServiceAreaResponse);
  // Search for service areas.
  rpc QueryServiceAreas(QueryServiceAreasRequest) returns (QueryServiceAreasResponse);
}

message CreateServiceAreasRequest {
  repeated ServiceAreaDto service_areas = 1;
  google.protobuf.BoolValue skip_if_invalid = 2;
  google.protobuf.BoolValue check_duplicate_geo_bounds = 3;
}

message CreateServiceAreasResponse {
  repeated CreatedResponse service_areas = 1;
}

message UpdateServiceAreaRequest {
  ServiceAreaDto service_area = 1;
}

message UpdateServiceAreaResponse {
  ServiceAreaDto service_area = 1;
}

message DeleteServiceAreaRequest {
  google.protobuf.StringValue id = 1;
}

message DeleteServiceAreaResponse {}

message GetServiceAreaRequest {
  google.protobuf.StringValue id = 1;
}

message GetServiceAreaResponse {
  ServiceAreaDto service_area = 1;
}

message QueryServiceAreasRequest {
  // When null, this filter will not be applied and service areas
  // with any company_id will be returned.
  google.protobuf.Int64Value company_id = 1;
  repeated string names = 2;
  google.protobuf.BoolValue exact_name_match = 3;
  repeated int64 geo_bound_ids = 4;
  Location location = 5;
  google.protobuf.Int32Value page = 6;
  google.protobuf.Int32Value page_size = 7;
}

message QueryServiceAreasResponse {
  repeated ServiceAreaDto service_areas = 1;
  google.protobuf.Int64Value total_count = 2;
}
