// TEAM: billing

syntax = "proto3";

package flexport.monolith.vendorbill.v1beta1;

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

option java_multiple_files = true;
option java_outer_classname = "VendorBillProto";
option java_package = "com.flexport.monolith.vendorbill.v1beta1";
option ruby_package = "Flexport::Monolith::VendorBill::V1Beta1";

// Message for a Bill record.
message VendorBill {
  string fid = 1;
  string bill_name = 2;
  int32 issuing_entity_id = 3 [deprecated = true];
  string issuing_entity_fid = 4;
  string vendor_fid = 5;
  string receiving_entity_fid = 6;
  string notes = 7;
  bool is_vendor_credit = 8;
  string exchange_rate_id = 9;
  string currency_code = 10;
  string delivery_order_fid = 11;
  google.protobuf.Timestamp created_at_time = 12;
  google.protobuf.Timestamp issued_at_time = 13;
  google.protobuf.Timestamp due_at_time = 14;
  google.protobuf.Timestamp cancelled_at_time = 15;
  google.protobuf.Timestamp exchange_rate_time = 16;
  repeated BillShipment bill_shipments = 17;
  google.protobuf.StringValue source_record_fid = 18;
  bool payment_required = 19;
  bool pending_audit = 20;
}

// Part of the Bill Shipment as represented in the monolith DB.
message BillShipment {
  string shipment_fid = 1;
  google.protobuf.Timestamp created_at_time = 2;
  google.protobuf.Timestamp updated_at_time = 3;
  repeated BillItem bill_items = 4;
}

// Item record.
message BillItem {
  string name = 1;
  string category = 2;
  string currency_code = 3;
  google.protobuf.DoubleValue amount_micros = 4;
  google.protobuf.Timestamp created_at_time = 5;
  google.protobuf.Timestamp updated_at_time = 6;
}
