// TEAM: iam_platform

syntax = "proto3";

package flexport.authorization.v2;

option java_multiple_files = true;
option java_outer_classname = "CommonProto";
option java_package = "com.flexport.authorization.v2";
option ruby_package = "Flexport::Authorization::V2";

import "flexport/authorization/v1/common.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

// Mapping object between the from resource and the resource it maps to.
message DomainMapping {
  string from_fid = 1;
  string slug = 2;
  string to_fid = 3;
  //
  // These fields are set by the Authorization service:
  google.protobuf.Timestamp created_time = 4;
  google.protobuf.Timestamp deleted_time = 5;
  google.protobuf.Timestamp snapshotted_time = 6;
  google.protobuf.Timestamp expired_time = 7;
}

// Represent the fact that an actor could potentially have permission to perform the
// given operation, optionally on a defined set of resources. Instead of resource proto we use FIDs.
message Permission {
  flexport.authorization.v1.Operation operation = 1;
  google.protobuf.StringValue resource_fid = 2;
}
