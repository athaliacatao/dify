// TEAM: unified_shipment_schedules

syntax = "proto3";

package flexport.schedulemanager.manageschedulemetadata.v1beta1;

import "flexport/executioncoordinator/executiontaskstateevent/v1/execution_task_state_event.proto";
import "flexport/schedulemanager/manageschedulemetadata/v1beta1/idewe_action.proto";
import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_outer_classname = "TrackedCtdcProto";
option java_package = "com.flexport.schedulemanager.manageschedulemetadata.v1beta1";
option ruby_package = "Flexport::ScheduleManager::ManageScheduleMetadata::V1Beta1";

// Tracks details of a CTDC's interactions and outcome from Schedule Manager's Manage Schedule (IDEWE) flow.
message TrackedCtdc {
  // IDs
  string tracked_ctdc_fid = 1;
  string cargo_transit_date_changed_etse_fid = 2;
  string shipment_fid = 3;
  string order_fid = 4;
  string task_fid = 5;

  // Evaluation Details
  string outcome = 19;
  int32 evaluation_attempts = 20;
  string failed = 21;

  // Metadata
  google.protobuf.Timestamp created_at = 35;

  // Actions
  repeated IdeweAction actions = 40;

  // Other
  flexport.executioncoordinator.executiontaskstateevent.v1.ExecutionTaskStateEvent cargo_transit_date_changed_etse = 50;
}
