// TEAM: unified_shipment_schedules

syntax = "proto3";

package flexport.schedulemanager.itinerarydates.v1beta1;

import "flexport/executioncoordinator/executionplan/v1/execution_plan.proto";
import "flexport/executioncoordinator/itinerary/v1beta1/itinerary.proto";
import "flexport/schedulemanager/entityevent/v1beta1/managed_dates_outcome_entity.proto";
import "flexport/schedulemanager/types/enums/v1/manage_schedule_outcome_code.proto";

option java_multiple_files = true;
option java_outer_classname = "ItineraryDatesAPIProto";
option java_package = "com.flexport.schedulemanager.itinerarydates.v1beta1";

// APIs for evaluating and modifying Itinerary Dates via Schedule Manager.
service ItineraryDatesAPI {
  // Evaluates provided Itinerary draft with existing, then returns the draft that may contained changed dates.
  rpc UpdateDraft(UpdateDraftRequest) returns (UpdateDraftResponse);
}

message UpdateDraftRequest {
  flexport.executioncoordinator.itinerary.v1beta1.Itinerary draft_itinerary = 1;
  flexport.executioncoordinator.itinerary.v1beta1.Itinerary existing_itinerary = 2;
  flexport.executioncoordinator.executionplan.v1.ExecutionPlan execution_plan = 3;
}
message UpdateDraftResponse {
  flexport.executioncoordinator.itinerary.v1beta1.Itinerary result_itinerary = 1;
  // DEPRECATED: Use managed_dates_outcome instead.
  flexport.schedulemanager.types.enums.v1.ManageScheduleOutcomeCode outcome_code = 2 [deprecated = true];
  flexport.schedulemanager.entityevent.v1beta1.ManagedDatesOutcomeEntity managed_dates_outcome = 3;
}
