// TEAM: workflow_platform

syntax = "proto3";

package flexport.rulesengine.evaluatematch.v1;

option java_multiple_files = true;
option java_outer_classname = "EvaluateMatchProto";
option java_package = "com.flexport.rulesengine.evaluatematch.v1";
option ruby_package = "Flexport::RulesEngine::EvaluateMatch::V1";

// For matching corresponding rules, rule sets, and decision tables.
message EvaluateMatch {
  string api_name = 1;
  EvaluateType type = 2;
  // The evaluate target. The rules engine will evaluate the last item in database if the target is not set.
  EvaluateTarget target = 7;
}

// The EvaluateType.
enum EvaluateType {
  EVALUATE_TYPE_INVALID = 0;
  EVALUATE_TYPE_RULE = 1;
  EVALUATE_TYPE_RULE_MANAGEMENT = 2;
  EVALUATE_TYPE_RULE_SET = 3;
  EVALUATE_TYPE_DECISION_TABLE = 4;
}

// The target to be evaluated.
message EvaluateTarget {
  repeated string rule_fids = 1;
  repeated string rule_management_fids = 2;
  repeated string rule_set_fids = 3;
  repeated string decision_table_fids = 4;
}
