// TEAM: forwarding_platform

syntax = "proto3";

package flexport.executioncoordinator.customerconsignment.v1beta1;

import "flexport/executioncoordinator/customerconsignment/v1beta1/customer_consignment_cargo_ready_date_changed.proto";
import "flexport/executioncoordinator/customerconsignment/v1beta1/customer_consignment_created.proto";
import "flexport/executioncoordinator/customerconsignment/v1beta1/customer_consignment_delivery_appointment_requested_at.proto";
import "flexport/executioncoordinator/customerconsignment/v1beta1/customer_consignment_delivery_appointment_requested_for.proto";
import "flexport/executioncoordinator/customerconsignment/v1beta1/customer_consignment_delivery_appointment_scheduled.proto";
import "flexport/executioncoordinator/customerconsignment/v1beta1/customer_consignment_estimated_out_for_final_delivery.proto";
import "flexport/executioncoordinator/customerconsignment/v1beta1/customer_consignment_final_delivery_confirmed.proto";
import "flexport/executioncoordinator/customerconsignment/v1beta1/customer_consignment_out_for_final_delivery.proto";
import "flexport/executioncoordinator/customerconsignment/v1beta1/customer_consignment_route_updated.proto";
import "flexport/executioncoordinator/executiontaskstateevent/v1/details/cargo_transit_date_changed.proto";
import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_outer_classname = "CustomerConsignmentEventProto";
option java_package = "com.flexport.executioncoordinator.customerconsignment.v1beta1";
option ruby_package = "Flexport::ExecutionCoordinator::CustomerConsignment::V1Beta1";

message CustomerConsignmentEvent {
  // The event's unique identifier
  // flx::execution_coordinator:customer_consignment_event:foo123
  string fid = 1; // Required.

  // The time this event was created.
  google.protobuf.Timestamp created_time = 6;
  //
  // Time the entity was persisted in the EC-NIS.
  google.protobuf.Timestamp processed_time = 7;

  // The user responsible for triggering this event.
  // If the event is automated can be a service user, or a human's user_fid triggered be a real user.
  string created_by_fid = 8;

  // Partition key
  int64 customer_consignment_id = 2;

  // Fid for external accesses.
  string customer_consignment_fid = 3;

  // Fid for external accesses.
  string external_reference_id = 4;

  // Fid for the customer this customer consignment belongs to
  string customer_fid = 9;

  // Fid of the House Airwaybill Shipment this customer consignment belongs to
  string hawb_shipment_fid = 10;

  // The type of event.
  oneof event_details {
    flexport.executioncoordinator.executiontaskstateevent.v1.CargoTransitDateChanged cargo_transit_date_changed = 5;

    CustomerConsignmentOutForFinalDelivery trucking_out_for_final_delivery = 11;
    CustomerConsignmentFinalDeliveryConfirmed trucking_final_delivery_confirmed = 12;
    CustomerConsignmentDeliveryAppointmentRequestedAt trucking_delivery_appointment_requested_at = 13;
    CustomerConsignmentDeliveryAppointmentRequestedFor trucking_delivery_appointment_requested_for = 14;
    CustomerConsignmentDeliveryAppointmentScheduled trucking_delivery_appointment_scheduled = 15;

    CustomerConsignmentCreated customer_consignment_created = 16;
    CustomerConsignmentCargoReadyDateChanged customer_consignment_cargo_ready_date_changed = 17;
    CustomerConsignmentRouteUpdated customer_consignment_route_updated = 18;

    CustomerConsignmentEstimatedOutForFinalDelivery trucking_estimated_out_for_final_delivery = 19;
  }
}
