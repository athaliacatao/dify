// TEAM: billing

syntax = "proto3";

package flexport.monolith.billing.manualreviewbill.v1beta1;

import "flexport/monolith/billing/manualreviewbill/v1beta1/manual_review_bill.proto";
import "google/protobuf/wrappers.proto";

option java_multiple_files = true;
option java_outer_classname = "ManualReviewBillApiProto";
option java_package = "com.flexport.monolith.billing.manualreviewbill.v1beta1";
option ruby_package = "Flexport::Monolith::Billing::ManualReviewBill::V1Beta1";

// An API to retrieve manual review bills.
service ManualReviewBillAPI {
  // Retrieves a manual review bill by fid.
  rpc GetManualReviewBillByFid(GetManualReviewBillByFidRequest) returns (GetManualReviewBillByFidResponse);
  // Retrieves a manual review bill by data hash.
  rpc GetManualReviewBillByDataHash(GetManualReviewBillByDataHashRequest) returns (GetManualReviewBillByDataHashResponse);
  // Query manual review bills by query params.
  rpc QueryManualReviewBills(QueryManualReviewBillsRequest) returns (QueryManualReviewBillsResponse);
  // Retrieves a template by vendor fid and template text.
  rpc RejectManualReviewBill(RejectManualReviewBillRequest) returns (RejectManualReviewBillResponse);
}

// The request to get a manual review bill by fid.
message GetManualReviewBillByFidRequest {
  string fid = 1;
}

// The response to get a manual review bill by fid.
message GetManualReviewBillByFidResponse {
  flexport.monolith.billing.manualreviewbill.v1beta1.ManualReviewBill bill = 1;
}

// The request to get a manual review bill by data hash.
message GetManualReviewBillByDataHashRequest {
  string data_hash = 1;
}

// The response to get a manual review bill by data hash.
message GetManualReviewBillByDataHashResponse {
  repeated flexport.monolith.billing.manualreviewbill.v1beta1.ManualReviewBill bills = 1;
}

// The request for a manual review bill query.
message QueryManualReviewBillsRequest {
  string bill_name = 1;
}

// The response for a manual review bill query.
message QueryManualReviewBillsResponse {
  repeated flexport.monolith.billing.manualreviewbill.v1beta1.ManualReviewBill bills = 1;
}

// The request when a manual review bill is rejected
message RejectManualReviewBillRequest {
  string fid = 1;
  string rejection_reason = 2;
  google.protobuf.StringValue rejected_by_fid = 3;
}

// The response when a manual review bill is rejected.
message RejectManualReviewBillResponse {
  flexport.monolith.billing.manualreviewbill.v1beta1.ManualReviewBill bill = 1;
}
