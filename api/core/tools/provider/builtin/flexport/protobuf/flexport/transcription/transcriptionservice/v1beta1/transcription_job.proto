// TEAM: document_intelligence

syntax = "proto3";

package flexport.transcription.transcriptionservice.v1beta1;

option java_multiple_files = true;
option java_outer_classname = "TranscriptionJobProto";
option java_package = "com.flexport.transcription.transcriptionservice.v1beta1";
option ruby_package = "Flexport::Transcription::TranscriptionService::V1Beta1";

import "google/protobuf/timestamp.proto";

// The possible states of this transcription.
enum TranscriptionStatus {
  TRANSCRIPTION_STATUS_INVALID = 0;
  TRANSCRIPTION_STATUS_NOT_STARTED = 1;
  TRANSCRIPTION_STATUS_IN_PROGRESS = 2;
  TRANSCRIPTION_STATUS_COMPLETED = 3;
  TRANSCRIPTION_STATUS_FAILED = 4;
  TRANSCRIPTION_STATUS_NEEDS_RETRY = 5;
}

// The Transcription Job represents an instance of a transcription request.
message TranscriptionJob {
  // The fid of the job.
  string fid = 1;
  // The status of this transcription request.
  TranscriptionStatus status = 2;
  // List of business objects (represented by fids) related to this job.
  repeated string topic_fids = 3;
  // When the Transcription Job was created.
  google.protobuf.Timestamp created_at_time = 4;
  // Type of the document being transcribed.
  string document_type = 5;
}

// When the transcription job initiation succeeds.
message SuccessResponse {
  // Parrot the request info for debugging purposes.
  string request_echo = 2;
}

// When transcription job initiation fails.
message ErrorResponse {
  // Error message.
  string message = 1;
  // Corresponding GRPC error code.
  string code = 2;
}
