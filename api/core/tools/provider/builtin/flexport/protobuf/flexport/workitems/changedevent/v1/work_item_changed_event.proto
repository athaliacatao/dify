// TEAM: work_management

syntax = "proto3";

package flexport.workitems.changedevent.v1;

import "flexport/workitems/workitemservice/v1beta1/work_item.proto";

option java_multiple_files = true;
option java_outer_classname = "WorkItemChangedEventProto";
option java_package = "com.flexport.workitems.changedevent.v1";
option ruby_package = "Flexport::WorkItems::ChangedEvent::V1";

// An event representing the work item change whenever a work item's basic property changes.
message WorkItemChangedEvent {
  //
  // Previous version of the work item, including all properties except work context
  flexport.workitems.workitemservice.v1beta1.WorkItem work_item = 1;
  //
  // New version of the work item, including all properties except work context
  flexport.workitems.workitemservice.v1beta1.WorkItem old_work_item = 2;
  //
  // Info for this work item
  WorkItemInfo work_item_info = 3;
}

// Wrapper message for work item information
message WorkItemInfo {
  //
  // The Work Item type, similar to 'source_resource_type' in Jetski.
  string work_item_type = 1;
  //
  // Whether the work item type can be auto assigned
  bool can_be_assigned_via_rules = 2;
}
