// TEAM: kingsroad

syntax = "proto3";

package flexport.monolith.shipperexp.task.v1beta1;

import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_outer_classname = "ClientTaskStateProto";
option java_package = "com.flexport.monolith.shipperexp.task.v1beta1";
option ruby_package = "Flexport::Monolith::ShipperExp::Task::V1Beta1";

message ClientTaskState {
  string shipment_fid = 1;
  map<string, ClientTask> client_tasks_by_task_type = 2;
  google.protobuf.Timestamp updated_at = 3;
}

message ClientTask {
  string taskable_fid = 2;
  TaskType task_type = 3;
  string task_type_raw = 4;
  string assigned_company_fid = 5;
  Status status = 6;
  repeated string reasons = 7;
  google.protobuf.Timestamp due_date = 8;
  google.protobuf.Timestamp created_at = 9;
  google.protobuf.Timestamp updated_at = 10;
}

// Task status.
// see: app/constants/task_statuses.rb
enum Status {
  STATUS_INVALID = 0;
  STATUS_COMPLETE = 1;
  STATUS_ACTIVE = 2;
  STATUS_PENDING = 3;
  STATUS_INAPPLICABLE = 4;
  STATUS_REVIEW = 5;
  STATUS_IN_PROGRESS = 6;
  STATUS_PENDING_CONFIRMATION = 7;
  STATUS_PENDING_DISMISSED = 8;
}

// Corresponding to document types.
enum TaskType {
  TASK_TYPE_INVALID = 0;
  TASK_TYPE_VGM = 1;
  TASK_TYPE_SI = 2;
  TASK_TYPE_ISF = 3;
  TASK_TYPE_CCAM = 4;
  TASK_TYPE_HBL_DRAFT = 5;
}
