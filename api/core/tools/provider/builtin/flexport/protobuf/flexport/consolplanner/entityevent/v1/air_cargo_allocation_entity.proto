// TEAM: wingstop

syntax = "proto3";

package flexport.consolplanner.entityevent.v1;

import "flexport/executioncoordinator/executionoffering/v1/transit/air_execution_offering.proto";
import "google/protobuf/timestamp.proto";
import "google/type/date.proto";

option java_multiple_files = true;
option java_outer_classname = "AirCargoAllocationEntityProto";
option java_package = "com.flexport.consolplanner.entityevent.v1";
option ruby_package = "Flexport::ConsolPlanner::EntityEvent::V1";

// Next ID: 49
message AirCargoAllocationEntity {
  int64 id = 1;
  google.protobuf.Timestamp created_at = 2;
  google.protobuf.Timestamp updated_at = 3;
  google.protobuf.Timestamp deleted_at = 4;
  string created_by = 41;
  string last_updated_by = 42;
  string execution_order_fid = 5;
  optional string execution_task_fid = 6;
  string shipment_id = 7;
  optional string allotment_schedule_instance_fid = 8;
  google.protobuf.Timestamp must_arrive_by = 9;
  OtpRiskReasonType otp_risk_reason_type = 10;
  optional string origin_airport_fid = 11;
  optional string destination_airport_fid = 12;
  optional string route_origin_airport_fid = 13;
  optional string route_destination_airport_fid = 14;
  string shipment_fid = 15;
  optional string shipper_entity_fid = 16;
  optional string client_entity_fid = 17;
  google.type.Date cargo_ready_date = 18;
  google.protobuf.Timestamp origin_cfs_actual_arrival = 19;
  bool origin_cfs_actual_arrival_is_date_only = 20;
  google.protobuf.Timestamp origin_cfs_estimated_arrival = 21;
  bool origin_cfs_estimated_arrival_is_date_only = 22;
  google.protobuf.Timestamp origin_estimated_departure = 23;
  google.protobuf.Timestamp origin_actual_departure = 24;
  google.type.Date target_delivery_date = 25;
  optional string preassigned_mawb_number = 26;
  google.protobuf.Timestamp actual_arrival_at_destination = 27;
  flexport.executioncoordinator.executionoffering.v1.AirRole main_freight_role = 28;
  ClearanceMode pvg_customs_clearance_mode = 29;
  optional float pvg_customs_clearance_weight_in_kg = 30;
  ClearanceDocumentStatus pvg_customs_clearance_document_status = 31;
  SecurityDocumentStatus pvg_security_document_status = 32;
  repeated string allotment_fids = 33;
  optional int64 air_build_plan_id = 34;
  optional int64 mawb_plan_id = 35;
  string comments = 36;
  optional string air_documents_status = 37;
  optional string service_tier = 38;
  google.protobuf.Timestamp transloading_cfs_actual_gate_in = 39;
  google.protobuf.Timestamp transloading_cfs_estimated_gate_in = 40;
  google.protobuf.Timestamp assigned_to_supply_at = 43;
  google.protobuf.Timestamp updated_must_arrive_by_slow = 44;
  google.protobuf.Timestamp updated_must_arrive_by_fast = 45;
  RouteChangeReasonType route_change_reason_type = 46;
  optional string nearest_destination_airport_fid = 47;
  optional string final_destination_address_fid = 48;
}

enum ClearanceMode {
  CLEARANCE_MODE_INVALID = 0;
  // Customer does customs clearance before gate-in. Shipper pre-declaration of pieces and weight
  // based on shipper
  CLEARANCE_MODE_1_1 = 1;
  // Shipper pre-declaration of pieces and weight based on actual pieces count and weight after
  // gate-in.
  CLEARANCE_MODE_1_2 = 2;
  // General declaration - shipper provides customs clearance documents to the forwarder's broker.
  // Broker will handle the custom clearance process after gate in.
  CLEARANCE_MODE_2 = 3;
}

enum ClearanceDocumentStatus {
  CLEARANCE_DOCUMENT_STATUS_INVALID = 0;
  // Document status currently in approval
  CLEARANCE_DOCUMENT_STATUS_PRETRIAL_PENDING = 1;
  // Document status has been rejected
  CLEARANCE_DOCUMENT_STATUS_PRETRIAL_FAILED = 2;
  // Document status has been approved
  CLEARANCE_DOCUMENT_STATUS_PRETRIAL_PASSED = 3;
}

enum SecurityDocumentStatus {
  SECURITY_DOCUMENT_STATUS_INVALID = 0;
  // Document status currently in approval
  SECURITY_DOCUMENT_STATUS_PRESCREEN_PENDING = 1;
  // Document status has been rejected
  SECURITY_DOCUMENT_STATUS_PRESCREEN_FAILED = 2;
  // Document status has been approved
  SECURITY_DOCUMENT_STATUS_PRESCREEN_PASSED = 3;
}

enum OtpRiskReasonType {
  OTP_RISK_REASON_TYPE_INVALID = 0;
  OTP_RISK_REASON_TYPE_QUOTED_TRANSIT_TIME_TOO_SHORT = 1 [deprecated = true];
  OTP_RISK_REASON_TYPE_NO_EARLIER_FLIGHT_SCHEDULE_ON_THE_MARKET = 2 [deprecated = true];
  OTP_RISK_REASON_TYPE_NO_EARLIER_FLIGHT_DUE_TO_LATE_FORECAST = 3 [deprecated = true];
  // No extra space on the market
  OTP_RISK_REASON_TYPE_SPACE_TIGHT = 4 [deprecated = true];
  OTP_RISK_REASON_TYPE_CARGO_HOLD_AT_WAREHOUSE = 5 [deprecated = true];
  // Late Customs documents
  OTP_RISK_REASON_TYPE_CUSTOMS_HOLD = 6 [deprecated = true];
  // Late Security documents
  OTP_RISK_REASON_TYPE_SECURITY_HOLD = 7 [deprecated = true];
  OTP_RISK_REASON_TYPE_ORIGIN_TRUCKING_DELAY = 8 [deprecated = true];
  OTP_RISK_REASON_TYPE_FIXED_ALLOTMENT_FULFILLMENT = 9;

  OTP_RISK_REASON_TYPE_LATE_FORECAST_OR_GATE_IN_BEFORE_ESTIMATED = 10 [deprecated = true];
  OTP_RISK_REASON_TYPE_CLIENT_OR_BPO_REQUEST_TO_HOLD = 11 [deprecated = true];
  OTP_RISK_REASON_TYPE_LATE_DOCUMENT = 12;
  OTP_RISK_REASON_TYPE_CUSTOMS_OR_SECURITY_HOLD = 13 [deprecated = true];
  OTP_RISK_REASON_TYPE_QUOTATION_EXPIRED = 14 [deprecated = true];
  OTP_RISK_REASON_TYPE_VOLUME_OR_DIMENSION_ABNORMAL = 15;
  OTP_RISK_REASON_TYPE_BALANCE_BENEFIT = 16;

  OTP_RISK_REASON_TYPE_GATE_IN_BEFORE_ESTIMATED_WITHOUT_NOTICE = 17;
  OTP_RISK_REASON_TYPE_CLIENT_OR_SHIPPER_REQUEST_TO_HOLD = 18;
  OTP_RISK_REASON_TYPE_CUSTOMS_OR_SECURITY_OR_DG_HOLD = 19;
  OTP_RISK_REASON_TYPE_QUOTATION_ISSUE = 20;
  OTP_RISK_REASON_TYPE_EXP_SHIPMENT_FAILED_PROVIDING_FORECAST_ON_TIME = 21 [deprecated = true];
  OTP_RISK_REASON_TYPE_ACTUAL_VOLUME_EXCEEDS_FORECAST = 22;
  OTP_RISK_REASON_TYPE_DEPRIORITIZE_LOSS_MAKING_ACCOUNT_DUE_TO_TIGHT_CAPACITY = 23;
  OTP_RISK_REASON_TYPE_GATE_IN_AFTER_ESTIMATED = 24;
  OTP_RISK_REASON_TYPE_FORCE_MAJEURE = 25;
  OTP_RISK_REASON_TYPE_ARRIVE_SAME_DAY_AS_MABD = 26;
  OTP_RISK_REASON_TYPE_CARGO_SPLIT_AND_MULTIPLE_GATE_IN = 27;
  OTP_RISK_REASON_TYPE_CARGO_DAMAGE = 28;
}

enum RouteChangeReasonType {
  ROUTE_CHANGE_REASON_TYPE_INVALID = 0;
  ROUTE_CHANGE_REASON_TYPE_QUOTED_DESTINATION_PORT_NOT_CLOSEST = 1;
  ROUTE_CHANGE_REASON_TYPE_MAJOR_DELAY_ON_QUOTED_ROUTE = 2;
  ROUTE_CHANGE_REASON_TYPE_CUSTOMER_REQUEST = 3;
  ROUTE_CHANGE_REASON_TYPE_COST_SAVINGS = 4;
  ROUTE_CHANGE_REASON_TYPE_FULFILLING_CHARTER_BSA_ALLOTMENT = 5;
  ROUTE_CHANGE_REASON_TYPE_SHORTER_TT_FOR_OTP_GUARANTEE = 6;
  ROUTE_CHANGE_REASON_TYPE_OTHER_REASON = 7;
}
