// TEAM: billing

syntax = "proto3";

package flexport.billing.review.v1beta1;

import "flexport/billing/bill/v1beta1/bill.proto";
import "flexport/billing/review/v1beta1/review_approval_result.proto";
import "flexport/billing/util/v1beta1/error_result.proto";
import "google/protobuf/wrappers.proto";

option java_multiple_files = true;
option java_outer_classname = "ReviewApiProto";
option java_package = "com.flexport.billing.review.v1beta1";
option ruby_package = "Flexport::Billing::Review::V1Beta1";

// An API for handling Billing reviews.
service ReviewAPI {
  // Approves a single review.
  rpc ApproveReview(ApproveReviewRequest) returns (ApproveReviewResponse);
}

// The request to approve a review.
message ApproveReviewRequest {
  string review_fid = 1;
  flexport.billing.bill.v1beta1.Bill approved_bill = 2;
  google.protobuf.StringValue notes = 3;
  bool payment_required = 4;
  bool pending_audit = 5;
  google.protobuf.StringValue approved_by_fid = 6;
}

// The response when approving a review.
message ApproveReviewResponse {
  oneof result {
    flexport.billing.review.v1beta1.ReviewApprovalResult success_result = 1;
    flexport.billing.util.v1beta1.ErrorResult failure_result = 2;
  }
}
