// TEAM: ocean_planning

syntax = "proto3";

package flexport.oceanplanning.entityevent.v1beta1;

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

option java_multiple_files = true;
option java_outer_classname = "FulfillmentTaskEntityProto";
option java_package = "com.flexport.oceanplanning.entityevent.v1beta1";
option ruby_package = "Flexport::OceanPlanning::EntityEvent::V1Beta1";

message FulfillmentTaskEntity {
  int64 id = 1;
  string shipment_fid = 2;
  int64 current_fulfillment_request_entity_id = 3;
  repeated string open_exception_fids = 4;
  FulfillmentTaskStatus status = 5;
  int32 priority_score = 6;
  string priority_score_metadata = 7;
  string user_overrides_json = 8;
  repeated string demand_preferences_json = 9;
  string assignment_override_request_json = 10;
  bool space_priority = 11;
  bool is_trial = 12;
  repeated string carrier_blocklist = 13;
  bool extend_crd_etd_window_for_nac = 14;
  google.protobuf.Int32Value crd_si_override = 15;
  google.protobuf.Timestamp created_at = 16;
  google.protobuf.Timestamp updated_at = 17;
  repeated int64 feasible_assignment_entities = 18 [deprecated = true];
  string shipment_eligibility_status = 19;
  string work_item_upsert_key = 20;
  FulfillmentTaskSource triggered_by = 21;
  string replan_reason = 22;
  repeated string replan_reason_detail = 23;
  google.protobuf.StringValue region_slug = 24;
  google.protobuf.StringValue target_sailing_week = 25;
  google.protobuf.StringValue target_arrival_date = 26;
  google.protobuf.StringValue demand_modified_by_user_fid = 27;
  int64 product_set_id = 28;

  enum FulfillmentTaskStatus {
    FULFILLMENT_TASK_STATUS_INVALID = 0;
    FULFILLMENT_TASK_STATUS_NOT_APPLICABLE_FOR_PLANNING = 1;
    FULFILLMENT_TASK_STATUS_NOT_READY_FOR_PLANNING = 2;
    FULFILLMENT_TASK_STATUS_WAITING_INSTRUCTIONS = 3;
    FULFILLMENT_TASK_STATUS_IN_PROGRESS = 4;
    FULFILLMENT_TASK_STATUS_ASSIGNMENT_OVERRIDE_REQUESTED = 5;
    FULFILLMENT_TASK_STATUS_ASSIGNED = 6;
    FULFILLMENT_TASK_STATUS_ON_HOLD = 7;
    FULFILLMENT_TASK_STATUS_CANCELLED = 8;
  }

  enum FulfillmentTaskSource {
    FULFILLMENT_TASK_SOURCE_INVALID = 0;
    FULFILLMENT_TASK_SOURCE_UNKNOWN = 1;
    FULFILLMENT_TASK_SOURCE_BASE = 2;
    FULFILLMENT_TASK_SOURCE_EXCEPTION = 3;
    FULFILLMENT_TASK_SOURCE_REPLAN = 4;
  }
}
