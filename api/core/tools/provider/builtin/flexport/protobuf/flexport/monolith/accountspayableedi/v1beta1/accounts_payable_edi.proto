// TEAM: billing

syntax = "proto3";

package flexport.monolith.accountspayableedi.v1beta1;

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

option java_multiple_files = true;
option java_outer_classname = "AccountsPayableEdiProto";
option java_package = "com.flexport.monolith.accountspayableedi.v1beta1";
option ruby_package = "Flexport::Monolith::AccountsPayableEDI::V1Beta1";

// EDI document metadata parsed from the XML EDI coming from Proserv.
message AccountsPayableEDI {
  string document_name = 1;
  string document_type = 2;
  string representation_format = 3;
  string file_object_fid = 4;
  string file_hash = 5;
  string vendor_fid = 6;
  string issuing_entity_fid = 7;
  string receiving_entity_fid = 8;
  google.protobuf.Timestamp issued_at_time = 9;
  google.protobuf.Timestamp due_at_time = 10;
  OceanShipment ocean_shipment = 11;
  repeated ItemFields item_fields = 12;
  string contract_number = 13;
  google.protobuf.StringValue pdf_reference_number = 14;
  Summary summary = 15;
  google.protobuf.StringValue rendered_pdf_file_object_fid = 16;
  google.protobuf.StringValue rendered_pdf_file_hash = 17;
  string invoice_state = 18;
}

// OceanShipment record.
message OceanShipment {
  string master_bill_number = 1;
  repeated Container containers = 2;
}

// Container record.
message Container {
  string container_type = 1;
  string container_number = 2;
}

// ItemFields record.
message ItemFields {
  string container_number = 1;
  string iso_code = 2;
  repeated LineItem line_items = 3;
}

// LineItem record.
message LineItem {
  string charge_code = 1;
  string name = 2;
  string currency_code = 3;
  google.protobuf.DoubleValue amount = 4;
}

// Summary info.
message Summary {
  google.protobuf.DoubleValue total_amount = 1;
  string currency_code = 2;
}
