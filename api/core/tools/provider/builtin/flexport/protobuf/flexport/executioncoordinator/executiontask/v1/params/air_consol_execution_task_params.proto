// TEAM: forwarding_platform

syntax = "proto3";

package flexport.executioncoordinator.executiontask.v1;

option java_multiple_files = true;
option java_outer_classname = "AirConsolExecutionTaskParamsProto";
option java_package = "com.flexport.executioncoordinator.executiontask.v1";
option ruby_package = "Flexport::ExecutionCoordinator::ExecutionTask::V1";

import "flexport/executioncoordinator/executiontask/v1/params/trucking_execution_task_params.proto";

// Parameters for AirConsol ExecutionTask (WIP).
message AirConsolExecutionTaskParams {
  oneof consolidator {
    InsourcedAirConsolParams insourced = 1;
    OutsourcedAirConsolParams outsourced = 2;
  }
  //
  // The consolidation CFS at origin.
  string consolidation_cfs_fid = 3;
  //
  // The deconsolidation CFS at destination.
  string deconsolidation_cfs_fid = 4;
  //
  // The airport where cargo is loaded to begin its air journey
  string port_of_loading_fid = 5;
  //
  // The airport where cargo is unloaded typically after the clearing customs
  // to be delivered to the destination cfs. This may or may not be the last airport
  // in the air journey of the cargo
  string port_of_unloading_fid = 6;
  //
  // The origin catchment area, which is the geographical representation of
  // where the port of loading might be located like Asia-China-West or
  // North America - U.S. Northwest
  string origin_catchment_area_fid = 7;
  //
  // The destination catchment area, which is the geographical representation of
  // where the port of unloading might be located like Asia-China-West or
  // North America - U.S. Northwest
  string destination_catchment_area_fid = 8;
  //
  // The MAWB number assigned prior to planning
  string preassigned_mawb_number = 9;
  // HACK HACK HACK
  // Trucking legs managed by air provider.
  // See go/trucking-legs-on-non-trucking-task for more details
  repeated TruckingExecutionTaskParams managed_trucking_params = 10;
  //
  // The port corresponding to the first airport of an air shipment.
  // A distinction to make is that the departure_port_fid will not always be a 1:1
  // mapping with the port_of_loading_fid.
  string departure_port_fid = 11;
  //
  // The port corresponding to the final airport of an air shipment.
  // A distinction to make is that the arrival_port_fid will not always be a 1:1
  // mapping with the port_of_unloading_fid.
  string arrival_port_fid = 12;
}

// Parameters for an internally managed air consol shipment.
message InsourcedAirConsolParams {
  //
  // Identifier of the parent ExecutionOrder representing the lifecycle of the consolidated load
  // this ExecutionTask is part of. Might be empty in cases where we know the shipment will be
  // consolidated by Flexport's air team, but we aren't yet sure how exactly.
  string parent_execution_order_fid = 1;
}

// Parameters for an externally managed air consol shipment.
message OutsourcedAirConsolParams {
  // Unique identifier of the freight partner we are coloading with.
  string coloader_fid = 1;
}
