// TEAM: origin_ops

syntax = "proto3";

package flexport.exceptionmanagement.entityevent.v1beta1;

import "flexport/exceptionmanagement/enums/v1beta1/exception_active_status.proto";
import "flexport/exceptionmanagement/enums/v1beta1/exception_priority.proto";
import "flexport/exceptionmanagement/enums/v1beta1/exception_resolution_type.proto";
import "flexport/exceptionmanagement/enums/v1beta1/exception_target_type.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

option java_multiple_files = true;
option java_outer_classname = "OperationalExceptionTypeEntityProto";
option java_package = "com.flexport.exceptionmanagement.entityevent.v1beta1";
option ruby_package = "Flexport::ExceptionManagement::EntityEvent::V1Beta1";

// this looks like flexport.exceptionmanagement.types.v1beta1.OperationalExceptionType,
// but they are in different domains. In the future we might add some pre-cauculated values
// in entities for analysis but not add them in domain events or grpc
message OperationalExceptionTypeEntity {
  string fid = 1;
  string name = 2;
  string slug = 3;
  flexport.exceptionmanagement.enums.v1beta1.ExceptionTargetType target_type = 4;
  repeated string creator_parties = 5;
  repeated string viewer_parties = 6;
  flexport.exceptionmanagement.enums.v1beta1.ExceptionActiveStatus active_status = 7;
  flexport.exceptionmanagement.enums.v1beta1.ExceptionResolutionType resolution_type = 8;
  google.protobuf.Int32Value sla_hours = 9;
  repeated string tags = 10;
  google.protobuf.StringValue attr_options = 11;
  google.protobuf.StringValue created_by_user_fid = 12;
  google.protobuf.Timestamp created_at_time = 13;
  google.protobuf.StringValue updated_by_user_fid = 14;
  google.protobuf.Timestamp updated_at_time = 15;
  google.protobuf.StringValue deleted_by_user_fid = 16;
  google.protobuf.Timestamp deleted_at_time = 17;
  google.protobuf.StringValue required_fields = 18;
  google.protobuf.StringValue applicable_criteria = 19;
  repeated string default_visible_party_slugs = 20;
  google.protobuf.StringValue default_external_message = 21;
  flexport.exceptionmanagement.enums.v1beta1.ExceptionPriority default_priority = 22;
  google.protobuf.StringValue default_root_cause = 23;
  google.protobuf.StringValue recommended_use = 24;
  google.protobuf.StringValue sop = 25;

  // add dbid for better joining in looker
  int64 dbid = 26;
  // Valid exception type revision > 0, 0 is null.
  uint32 revision = 27;
}
