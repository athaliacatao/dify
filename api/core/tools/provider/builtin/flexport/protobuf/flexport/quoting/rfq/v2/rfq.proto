// TEAM: quoting

syntax = "proto3";

package flexport.quoting.rfq.v2;

option java_multiple_files = true;
option java_outer_classname = "RfqProto";
option java_package = "com.flexport.quoting.rfq.v2";
option ruby_package = "Flexport::Quoting::Rfq::V2";

import "flexport/os/v1/types/cargo/v1/container_counts.proto";
import "flexport/os/v1/types/cargo/v1/shipment_cargo.proto";
import "flexport/os/v1/types/incoterm/v1/incoterm.proto";
import "flexport/os/v1/types/walltimedate/v1/wall_time_date.proto";
import "flexport/quoting/isffilingpartytype/v1/isf_filing_party_type.proto";
import "flexport/quoting/rfqservicerequest/v1/rfq_service_request.proto";
import "google/protobuf/timestamp.proto";

// Rfq describes a quote request coming from monolith ruby code.
// It's created to support rendering an offering to service, could be expanded and used for other purposes in the future.
message Rfq {
  string client_fid = 1;
  string freight_partner_fid = 2;
  RequestedRoute requested_route = 3;
  flexport.os.v1.types.walltimedate.v1.WallTimeDate cargo_ready_date = 4;
  flexport.os.v1.types.cargo.v1.ShipmentCargo cargo = 5;
  flexport.os.v1.types.cargo.v1.ContainerCounts container_counts = 6;
  repeated flexport.quoting.rfqservicerequest.v1.RfqServiceRequest service_requests = 10;
  flexport.os.v1.types.incoterm.v1.Incoterm incoterm = 11;
  bool is_lcl = 12;
  bool is_ltl = 13;
  google.protobuf.Timestamp shipment_created_at_time = 14;
  flexport.quoting.isffilingpartytype.v1.IsfFilingPartyType isf_filing_party_type = 15;
  uint64 shipment_id = 16;
}

// RequestedRoute describes the core-left route information entered at quote request time.
message RequestedRoute {
  RouteAddress origin_address = 1;
  RouteAddress origin_port = 2;
  RouteAddress destination_port = 3;
  RouteAddress destination_address = 4;
}

// RouteAddress takes a few fields from core Address required for quoting inventory operations.
message RouteAddress {
  //
  // FID for the core (or OS) Address.
  string fid = 1;
  //
  // Country code is required for filtering the appropriate customs/insurance offerings.
  string country_code = 2;
  //
  // GPS coordinates, for trucking distance calculations.
  string lat = 3;
  string lng = 4;
}
