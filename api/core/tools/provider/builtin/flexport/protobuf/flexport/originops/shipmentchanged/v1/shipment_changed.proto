// TEAM: kingsroad

syntax = "proto3";

package flexport.originops.shipmentchanged.v1;

import "flexport/originops/actionedchecklistitem/v1/actioned_checklist_item.proto";
import "flexport/originops/airfulfillment/v1/air_fulfillment.proto";
import "flexport/originops/carrierbooking/v1/carrier_booking.proto";
import "flexport/originops/companyentity/v1/company_entity.proto";
import "flexport/originops/dangerousgoodsclassificationclass/v1/dangerous_goods_classification_class.proto";
import "flexport/originops/dangerousgoodsreviewstatus/v1/dangerous_goods_review_status.proto";
import "flexport/originops/eventrootcontext/v1/event_root_context.proto";
import "flexport/originops/isffilingpartytype/v1/isf_filing_party_type.proto";
import "flexport/originops/oceanfulfillment/v1/ocean_fulfillment.proto";
import "flexport/originops/partner/v1/partner.proto";
import "flexport/originops/quotestatus/v1/quote_status.proto";
import "flexport/originops/role/v1/role.proto";
import "flexport/originops/shipmentpriority/v1/shipment_priority.proto";
import "flexport/originops/transportationmode/v1/transportation_mode.proto";
import "flexport/os/v1/types/incoterm/v1/incoterm.proto";
import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_outer_classname = "ShipmentChangedProto";
option java_package = "com.flexport.originops.shipmentchanged.v1";
option ruby_package = "Flexport::OriginOps::ShipmentChanged::V1";

// An event that contains shipment data, after a shipment has changed (e.g. created, updated, deleted).
message ShipmentChanged {
  string id = 1;
  string shipment_name = 2 [deprecated = true];
  google.protobuf.Timestamp updated_at_time = 3;
  google.protobuf.Timestamp deleted_at_time = 4;
  google.protobuf.Timestamp archived_at_time = 5;
  google.protobuf.Timestamp completed_at_time = 6;
  flexport.os.v1.types.incoterm.v1.Incoterm incoterm = 7 [deprecated = true];
  QuoteInfo quote_info = 8;
  repeated flexport.originops.companyentity.v1.CompanyEntity shippers = 9 [deprecated = true];
  repeated flexport.originops.partner.v1.Partner partners = 10 [deprecated = true];
  repeated Note notes = 11 [deprecated = true];
  repeated Assignment assignments = 12;
  flexport.originops.transportationmode.v1.TransportationMode transportation_mode = 13 [deprecated = true];
  bool contains_dangerous_goods = 14 [deprecated = true];
  flexport.originops.dangerousgoodsreviewstatus.v1.DangerousGoodsReviewStatus dangerous_goods_review_status = 15 [deprecated = true];
  bool cargo_ready_date_confirmed = 16 [deprecated = true];
  string client_id = 17;
  google.protobuf.Timestamp created_at_time = 18;
  google.protobuf.Timestamp billing_frozen_at_time = 19 [deprecated = true];
  bool compliance_block = 20;
  // This is on shipment level, not client level, because onboarding requirements depends on shipment countries
  bool client_onboarded = 21;
  bool wants_flexport_freight = 22 [deprecated = true];
  bool wants_bco = 23 [deprecated = true];
  flexport.originops.shipmentpriority.v1.ShipmentPriority priority = 24;
  bool initiated_by_shipper = 25 [deprecated = true];
  flexport.originops.carrierbooking.v1.CarrierBooking active_carrier_booking = 26 [deprecated = true];
  flexport.originops.airfulfillment.v1.AirFulfillment air_fulfillment = 27;
  flexport.originops.oceanfulfillment.v1.OceanFulfillment ocean_fulfillment = 28;
  repeated flexport.originops.actionedchecklistitem.v1.ActionedChecklistItem actioned_checklist_items = 29 [deprecated = true];
  string place_of_receipt = 30;
  bool wants_pickup_service = 31;
  bool wants_import_customs_service = 32;
  repeated flexport.originops.companyentity.v1.CompanyEntity consignees = 33 [deprecated = true];
  flexport.originops.isffilingpartytype.v1.IsfFilingPartyType isf_filing_party_type = 34;
  bool cargo_contains_li_ion = 35 [deprecated = true];
  bool cargo_contains_hazmat = 36 [deprecated = true];
  bool cargo_contains_other_dangerous_goods = 37 [deprecated = true];
  bool cargo_contains_non_li_ion_battery = 38 [deprecated = true];
  flexport.originops.eventrootcontext.v1.EventRootContext event_root_context = 39;
  bool is_parent_consol_shipment = 40 [deprecated = true];
  repeated DangerousGoodsClassification dg_classifications = 41 [deprecated = true];
  repeated flexport.originops.companyentity.v1.CompanyEntity sellers = 42 [deprecated = true];
  bool wants_export_customs_service = 43;
}

// Represent the quote status for a shipment.
message QuoteInfo {
  flexport.originops.quotestatus.v1.QuoteStatus status = 1;
  google.protobuf.Timestamp updated_at_time = 2;
  google.protobuf.Timestamp rate_expired_at_time = 3;
  google.protobuf.Timestamp accepted_at_time = 4;
  repeated string carrier_preferences = 5 [deprecated = true];
}

// Represent a note for a shipment.
message Note {
  string id = 1;
  string user_id = 2;
  string message = 3;
  google.protobuf.Timestamp updated_at_time = 4;
}

// Represent an assignment for a shipment.
message Assignment {
  string user_id = 1;
  flexport.originops.role.v1.Role role = 2;
}

// Represent an dangerous goods classification.
message DangerousGoodsClassification {
  option deprecated = true;
  string fid = 1;
  string shipment_fid = 2;
  flexport.originops.dangerousgoodsclassificationclass.v1.DangerousGoodsClassificationClass dg_class = 3;
  google.protobuf.Timestamp updated_at_time = 4;
  google.protobuf.Timestamp deleted_at_time = 5;
  google.protobuf.Timestamp created_at_time = 6;
}
