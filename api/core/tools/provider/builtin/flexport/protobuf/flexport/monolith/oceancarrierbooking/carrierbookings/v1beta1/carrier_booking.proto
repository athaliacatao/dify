// TEAM: kingsroad

syntax = "proto3";

package flexport.monolith.oceancarrierbooking.carrierbookings.v1beta1;

import "flexport/os/v1/types/walltimedateordatetime/v1/wall_time_date_or_date_time.proto";
import "flexport/os/v1/types/walltimedatetime/v1/wall_time_date_time.proto";
import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_outer_classname = "CarrierBookingProto";
option java_package = "com.flexport.monolith.oceancarrierbooking.carrierbookings.v1beta1";
option ruby_package = "Flexport::Monolith::OceanCarrierBooking::CarrierBookings::V1Beta1";

// A carrier booking data.
message CarrierBooking {
  string fid = 1;
  string booking_number = 4;
  string internal_reference = 5;
  flexport.os.v1.types.walltimedatetime.v1.WallTimeDateTime etd_time = 6;
  flexport.os.v1.types.walltimedatetime.v1.WallTimeDateTime si_cutoff_time = 7;
  flexport.os.v1.types.walltimedatetime.v1.WallTimeDateTime vgm_cutoff_time = 8;
  flexport.os.v1.types.walltimedatetime.v1.WallTimeDateTime cy_cutoff_time = 9;
  CarrierBookingStatus status_enum = 10;
  CarrierBookingReleaseStatus release_status_enum = 11;
  repeated CarrierBookingRouteLeg route = 12;
  string carrier_fid = 13;
  string shipment_fid = 14;
  string carrier_contract_fid = 15;
  repeated CarrierBookingContainerRequest requested_containers = 16;
  repeated CarrierBookingContainerRequest released_containers = 17;
  repeated string all_so_document_fids = 18;
  // The slugs of the premium_services used, eg "sea_priority_go".
  // If no premium services are used it will be an empty list.
  repeated string premium_services = 19;
}

// Carrier booking route leg representation.
message CarrierBookingRouteLeg {
  string origin_fid = 1;
  string destination_fid = 2;
  string carrier_fid = 3;
  string vessel_fid = 4;
  string carrier_service_string_fid = 5;
  CarrierBookingTransportMode transport_mode = 6;
  string tracking_number = 7;
  string operator_voyage_number = 14;
  flexport.os.v1.types.walltimedateordatetime.v1.WallTimeDateOrDateTime scheduled_arrival = 8;
  flexport.os.v1.types.walltimedateordatetime.v1.WallTimeDateOrDateTime scheduled_departure = 9;
  string vessel_name = 10;
  string carrier_scac_code = 11;
  string vessel_imo = 12;
  string estimated_schedule_fid = 13;
}

// Carrier booking container representation.
message CarrierBookingContainerRequest {
  string container_type = 1;
  string containe_size = 2;
  int32 quantity = 3;
  int32 carrier_teu = 4;
}

// Carrier booking is created.
message CarrierBookingCreated {
  string carrier_booking_fid = 1;
  CarrierBooking carrier_booking = 2;
  google.protobuf.Timestamp created_time = 3;
}

// Carrier booking is updated.
message CarrierBookingUpdated {
  string carrier_booking_fid = 1;
  CarrierBooking carrier_booking = 2;
  google.protobuf.Timestamp updated_time = 3;
}

// Carrier booking is deleted.
message CarrierBookingDeleted {
  string carrier_booking_fid = 1;
  CarrierBooking carrier_booking = 2;
  google.protobuf.Timestamp deleted_time = 3;
}

// Represents the status of a carrier booking.
enum CarrierBookingStatus {
  CARRIER_BOOKING_STATUS_INVALID = 0;
  CARRIER_BOOKING_STATUS_CREATED = 1;
  CARRIER_BOOKING_STATUS_REQUESTED = 2;
  CARRIER_BOOKING_STATUS_PENDING = 3;
  CARRIER_BOOKING_STATUS_CONFIRMED = 4;
  CARRIER_BOOKING_STATUS_DECLINED = 5;
  CARRIER_BOOKING_STATUS_CANCELLED = 6;
  CARRIER_BOOKING_STATUS_UNBOOKED = 7;
  CARRIER_BOOKING_STATUS_ERROR = 8;
  CARRIER_BOOKING_STATUS_SLA_VIOLATION = 9;
  CARRIER_BOOKING_STATUS_REVISING = 10;
}

// Represents the release status of a carrier booking.
enum CarrierBookingReleaseStatus {
  CARRIER_BOOKING_RELEASE_STATUS_INVALID = 0;
  CARRIER_BOOKING_RELEASE_STATUS_FULLY_RELEASED = 1;
  CARRIER_BOOKING_RELEASE_STATUS_PARTIALLY_RELEASED = 2;
  CARRIER_BOOKING_RELEASE_STATUS_NOT_RELEASED = 3;
}

// A transportation mode. Roughly maps to transportation_modes.rb.
enum CarrierBookingTransportMode {
  CARRIER_BOOKING_TRANSPORT_MODE_INVALID = 0;
  CARRIER_BOOKING_TRANSPORT_MODE_OCEAN = 1;
  CARRIER_BOOKING_TRANSPORT_MODE_RAIL = 2;
  CARRIER_BOOKING_TRANSPORT_MODE_TRUCK = 3;
  CARRIER_BOOKING_TRANSPORT_MODE_AIR = 4;
}

// A file attachment from carrier booking.
message Attachment {
  string storage_fid = 1;
  string name = 2;
  string content_type = 3;
}
