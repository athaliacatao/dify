// TEAM: forwarding_platform

syntax = "proto3";

package flexport.executioncoordinator.types.enums.v1;

option java_multiple_files = true;
option java_outer_classname = "NodeTagProto";
option java_package = "com.flexport.executioncoordinator.types.enums.v1";
option ruby_package = "Flexport::ExecutionCoordinator::Types::Enums::V1";

// * NodeTag corresponds to nodes
// * representing locations significant for specific business processes along a shipment route.
enum NodeTag {
  // *  In general, Node Tag will be updated when:
  // * - The quote request is accepted and the shipment is first created, these tags will be auto generated.
  // * - System made route changes (Carrier Booking) will auto re-generate these tags.
  // * - Operators could also manually change these tags through the Route Editor UI.
  // *
  NODE_TAG_INVALID = 0;
  //
  // * ---------------------------
  // * HOUSE BILL OF LADING TAGS *
  // * ---------------------------
  //
  // On 3PL shipments the node tags refer to locations on the _house_ bill of lading.
  //
  // PLACE_OF_RECEIPT
  // - The node with this tag, means its address is the place where Flexport acting as NVOCC receives possession of the goods.
  // - This is the inverse of Place of Delivery.
  //   The "receipt" is from the Flexport-as-NVOCC's perspective, not Flexport-as-forwarder's
  //   perspective.
  // - Called "Place of Receipt" in the Route Editor UI.
  // - This is the place of receipt that gets added to the auto-generated NRA and HBL.
  NODE_TAG_HBL_PLACE_OF_RECEIPT = 2;
  //
  // PORT_OF_LOADING
  // - The node with this tag, means its address is a port where the goods
  //   are loaded onto the "main freight" vessel (eg ocean vessel/airplane).
  // - Called "Loading" in the Route Editor UI.
  // - In most cases this is the same as Place of Receipt. FCL ~90% same, LCL ~95% same, Air ~99%
  //   same. When the Place of Receipt (POR) and Place of Loading (POL) are separate locations, the
  //   main freight carrier moves the shipment from the POR to the POL via a feeder service (can be
  //   a barge, train or truck). The most common example is the barge feeder service from Ho Chi
  //   Minh, VT (POR) to Cai Mep, VT (POL).
  NODE_TAG_HBL_PORT_OF_LOADING = 3;
  //
  // FMC_PORT_OF_UNLOADING
  // - The node with this tag, means its address is a port where the goods are unloaded
  //   from the "main freight" vessel (eg an ocean vessel or airplane). It is the inverse of Port of Loading.
  //
  //   This is sometimes called the Port of Discharge, but there is a subtle difference in the
  //   meaning of these terms. See comment on the bottom ocean_fcl_execution_task_params.proto of
  //   for details.
  //
  //   However, we have two "port of unloading" tags, the other one is Customs Unloading tag(port_of_unloading),
  //   which will be customs related.
  //
  //   This one is the port at which the cargo is physically discharged from its mother vessel.
  //   This assignment is not dependent on the country in which it is located (unlike port_of_unloading).
  //   For example, if the shipment unloads from the mother vessel in a neighboring country
  //   (eg Vancouver) or a destination country (eg Seattle), either way it qualifies at an FMC
  //   port of unloading.
  // - Called "FMC Unloading" in the Route Editor UI.
  // - Used for FMC NRA filings.
  NODE_TAG_HBL_PORT_OF_UNLOADING = 4;
  //
  // PLACE_OF_DELIVERY
  // - The node with this tag, means its address is the place where Flexport acting as NVOCC releases possession of the goods.
  //   The "delivery" is from the Flexport-as-NVOCC's perspective, not Flexport-as-forwarder's
  //   perspective. Though this sounds like it might be the "final delivery location" eg consignee's
  //   warehouse, it is _almost always_ not.
  // - Called "FMC Delivery" in the Route Editor UI.
  // - This is the inverse of Place of Receipt.
  // - This is the place of delivery that gets added to the auto-generated NRA and HBL.
  NODE_TAG_HBL_PLACE_OF_DELIVERY = 5;
  //
  // * ---------------------------
  // * MASTER BILL OF LADING TAGS *
  // * ---------------------------
  //
  // On 4PL shipments the node tags refer to locations on the _master_ bill of lading.
  NODE_TAG_MBL_PLACE_OF_RECEIPT = 6;
  NODE_TAG_MBL_PORT_OF_LOADING = 7;
  NODE_TAG_MBL_PORT_OF_UNLOADING = 8;
  NODE_TAG_MBL_PLACE_OF_DELIVERY = 9;
  //
  // * -----------
  // * PORT TAGS *
  // * -----------
  //
  // FEEDER_PORT
  // - The node with this tag, means its address is a port where the large ocean vessels normally don't go.
  // - Partly because there are not enough containers to load onto a large ocean vessel
  //   or because the port of this node is not large enough to handle the large ocean vessels.
  // - Called "Feeder Port" in the Route Editor UI.
  NODE_TAG_FEEDER_PORT = 11;
  //
  // PORT_OF_CALLING
  // - An intermediate port where a vessel loads or unloads **other** cargo. There may be more than
  //   one node with this tag. Also known in the industry as "Port of Call".
  // - Conceptually, a node is like a subway stop where you (the cargo) stay onboard,
  //   while other passengers enter and exit the train.
  // - In practice, this place appears to be mostly unused -- we don't include all the ports of calling
  //   for a vessel in the Route Editor.
  // - Called "Port of Calling" in the Route Editor UI.
  NODE_TAG_PORT_OF_CALLING = 12;
  //
  // TRANSSHIPMENT
  // - The node with this tag, means its address is an intermediate port
  //   where a vessel loads or unloads **this shipment's** cargo.
  // - There may be more than one transshipment places within the route.
  // - Conceptually, a node with this tag is like a subway stop where you (the cargo) get off the
  //   train and transfer to a different train to continue your journey.Also known as Transit Port.
  // - Called "Trasshipment" in the Route Editor UI.
  NODE_TAG_TRANSSHIPMENT_PORT = 13;
  //
  // RAIL_PORT
  // - See https://github.flexport.io/flexport/flexport/pull/105201
  NODE_TAG_RAIL_PORT = 20;
  //
  // * --------------
  // * CUSTOMS TAGS *
  // * --------------
  // * https://help.cbp.gov/s/article/Article-380
  // * The tags NODE_TAG_FIRST_PORT_OF_ARRIVAL(port_of_unloading) and NODE_TAG_CUSTOMS_CLEARANCE((customs entry)
  // * are associated with customs.
  // * Starting from 04/2024, both customs tags were brought back to Itinerary again.
  // * Customs Operations Workflow Service (COWS) is now turned off and no longer be responsible for generating Customs tags.
  // * Core Left can still update/suggest customs tags.
  //
  NODE_TAG_FIRST_PORT_OF_ARRIVAL = 14;
  NODE_TAG_CUSTOMS_CLEARANCE = 15;
  //
  // * ------------------------------
  // * ORIGIN AND DESTINATION tags. *
  // * ------------------------------
  //
  // ORIGIN_ADDRESS
  // - The node with this tag, means its address is the origin address that identifies the location where a shipment lifecycle begins,
  //   but not necessarily where Flexport takes responsibility for the cargo. Likewise the destination address
  //   is where a shipment lifecycle ends. Typically these tags are on the origin factory and the
  //   final destination client warehouse.
  // - These tags pull from the addresses inputted the quote request or booking.
  // - If PICKUP SERVICE = NO (aka freight_type = port-to-door or port-to-port), Flexport may
  //   choose to include (for visibility) or exclude an origin_address. If no origin address
  //   is included during quoting, there will be no origin tag auto-assigned to the first
  //   location; however, if a leg preceding the port is added with the route editor, then the
  //   origin tag will auto-assign to the first node.
  // - Called "Origin" in the Route Editor UI.
  NODE_TAG_ORIGIN_ADDRESS = 16;
  //
  // DESTINATION_ADDRESS
  // - Likewise for origin_address when DELIVERY SERVICE = NO.
  // - Called "Destination" in the Route Editor UI.
  NODE_TAG_DESTINATION_ADDRESS = 17;
  //
  // * ------------------------------
  // * CONSOLIDATION tags. *
  // * ------------------------------
  //
  // CONSOLIDATION
  // - The node with this tag, means its address is the place where cargo is consolidated.
  // - The type of consolidation places could be Address, Warehouse and Factory.
  // - Called "Consolidation" in the Route Editor UI.
  NODE_TAG_CONSOLIDATION = 18;
  //
  // DECONSOLIDATION
  // - Likewise for consolidation.
  // - Called "Deconsolidation" in the Route Editor UI.
  NODE_TAG_DECONSOLIDATION = 19;
  //
  // * -------------
  // * BARGE tags. *
  // * -------------
  //
  // BARGE TERMINAL
  // - See https://github.flexport.io/flexport/flexport/pull/135480
  NODE_TAG_BARGE_TERMINAL = 21;
}
