// TEAM: unified_shipment_schedules

syntax = "proto3";

package flexport.schedulemanager.entityevent.v1beta1;

import "flexport/schedulemanager/datechanges/v1/schedule_dates_change.proto";
import "flexport/schedulemanager/types/enums/v1/manage_schedule_outcome_code.proto";
import "google/protobuf/struct.proto";
import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_outer_classname = "ManagedDatesOutcomeEntityProto";
option java_package = "com.flexport.schedulemanager.entityevent.v1beta1";
option ruby_package = "Flexport::ScheduleManager::EntityEvent::V1Beta1";

// The outcome of any schedule management activities that may have resulted in
// date changes and automated date changes (ex. autobuild, date cascades, validations, etc.).
message ManagedDatesOutcomeEntity {
  string shipment_fid = 1;
  string manage_schedule_id = 2;
  uint32 working_itinerary_revision = 3;
  uint32 result_itinerary_revision = 4;
  string feature_name = 5;
  string ingest_source = 6;
  // The overall outcome of the schedule management activity.
  flexport.schedulemanager.types.enums.v1.ManageScheduleOutcomeCode outcome_code = 7;
  // The unique result codes that represent different branching outcomes;
  // these provide a more granular level of detail about the outcome.
  string feature_result_code = 8;
  string fallback_result_code = 9;
  string pre_feature_result_code = 10;
  flexport.schedulemanager.datechanges.v1.ScheduleDatesChangeMetadata dates_change_metadata = 11;
  // A list of error messages related to schedule management activities,
  // formatted to be human-readable and user-friendly. These usually contain
  // contextual detail about the error. This is not intended to be parsed for logic;
  // prefer the result codes for programmatic handling of errors.
  repeated string error_messages = 12;
  repeated string dates_summary = 13;
  google.protobuf.Struct dates_changes = 14;
  google.protobuf.Timestamp created_at = 50;
}
