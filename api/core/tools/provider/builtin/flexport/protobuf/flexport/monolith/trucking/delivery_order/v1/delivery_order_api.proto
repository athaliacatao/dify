// TEAM: trucking

syntax = "proto3";

package flexport.monolith.trucking.delivery_order.v1;

import "flexport/monolith/trucking/delivery_order/v1/delivery_order.proto";

option java_multiple_files = true;
option java_outer_classname = "DeliveryOrderApiProto";
option java_package = "com.flexport.monolith.trucking.delivery_order.v1";
option ruby_package = "Flexport::Monolith::Trucking::DeliveryOrder::V1";

// APIs to retrieve delivery_order entities.
service DeliveryOrderAPI {
  // Get delivery_orders for an array of execution_task fids(Flexport Resource Identifiers).
  rpc GetDeliveryOrder(GetDeliveryOrderRequest) returns (GetDeliveryOrderResponse);
  // Get delivery_orders from delivery order id.
  rpc GetDeliveryOrderByFid(GetDeliveryOrderByFidRequest) returns (GetDeliveryOrderByFidResponse);
}

message GetDeliveryOrderRequest {
  repeated string execution_task_fids = 1;
}

message GetDeliveryOrderResponse {
  // the key should be an execution_task_fid
  map<string, DeliveryOrderDTO> delivery_orders = 1;
}

message GetDeliveryOrderByFidRequest {
  string delivery_order_fid = 1;
}

message GetDeliveryOrderByFidResponse {
  DeliveryOrderDTO delivery_order = 1;
}
