// TEAM: kingsroad

syntax = "proto3";

package flexport.executionmilestones.shipmentstate.v1beta1;

import "flexport/originops/grpcserver/exportworkitems/shipmentbookinginfofetcher/v1/shipment_booking_info.proto";
import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_outer_classname = "ShipmentOrderDataProto";
option java_package = "com.flexport.executionmilestones.shipmentstate.v1beta1";
option ruby_package = "Flexport::ExecutionMilestones::ShipmentState::V1Beta1";

// The state to store pre-execution order (a concept to align the future Order System, it includes quote and booking
// information) data for the shipment.
message ShipmentOrderData {
  string shipment_fid = 1;
  google.protobuf.Timestamp first_quote_accepted_time = 2;
  uint32 associated_execution_order_revision = 3;
  flexport.originops.grpcserver.exportworkitems.shipmentbookinginfofetcher.v1.ShipmentBookingInfo shipment_booking_info = 4;
  bool offline_booking_form_uploaded = 5;
  CargoReadyDateState cargo_ready_date_state = 6;
}

message CargoReadyDateState {
  bool cargo_ready_date_confirmed = 1;
  google.protobuf.Timestamp crd_confirmed_time = 2;
  string confirmed_by = 3;
  ConfirmedSource crd_confirmed_from = 4;
}

enum ConfirmedSource {
  CONFIRMED_SOURCE_INVALID = 0;
  CONFIRMED_SOURCE_CORE = 1;
  CONFIRMED_SOURCE_FFA = 2;
  CONFIRMED_SOURCE_QUOTE_ACCEPTED = 3;
}
