// TEAM: forwarding_platform

syntax = "proto3";

package flexport.executioncoordinator.executionoffering.v1;

import "google/protobuf/wrappers.proto";

option java_multiple_files = true;
option java_outer_classname = "ImportCustomsExecutionOfferingProto";
option java_package = "com.flexport.executioncoordinator.executionoffering.v1";
option ruby_package = "Flexport::ExecutionCoordinator::ExecutionOffering::V1";

// ImportCustomsExecutionOffering is a value-add offering for clearing customs on behalf of the
// importer. Flexport will arrange payment of customs and collect disbursement fees.
message ImportCustomsExecutionOffering {
  //
  // Freight partner responsible for ensuring customs is cleared.
  string freight_partner_fid = 1;
  //
  // Identifier of the company entity of the import customs agent.
  string import_customs_agent_company_entity_fid = 5;
  //
  // Identifier of the company entity of the importer of record for import customs.
  string importer_of_record_entity_fid = 3;
  //
  // How the nominating client wants Flexport to participate in import customs clearance.
  // This corresponds to "wants_import_customs" on shipment.rb. In general this field means
  // "the client wants Flexport to do whatever is necessary to clear customs", but the exact
  // filings and idioms vary by country.
  ImportCustomsClearanceRole clearance_role = 10;
  //
  // How the nominating client wants Flexport participate in the Importer Security Filing (ISF).
  // This is a US-specific customs filing separate from normal clearance.
  // https://www.flexport.com/glossary/importer-security-filing/
  ImporterSecurityFilingRole importer_security_filing_role = 11;

  T86CustomsClearanceRole t86_customs_clearance = 14;
  //
  // Whether the nominating client specifically requests that Flexport provide in-bond transit.
  //
  // In-bond transit involves moving cargo from a port or terminal to a "bonded" warehouse prior
  // to full customs clearance. This is common in the EU and also performed in the USA, especially
  // for consolidated cargo wherein an LCL master container is moved in-bond to a bonded CFS,
  // deconsolidated, and then cargo is split up and customs are cleared independently for each set
  // of cargo. This prevents a customs hold on one set of cargo from blocking the rest.
  //
  // Clients may request in-bond transit explicitly when they want Flexport to deliver cargo
  // to a CFS for another third-party brokerage to clear customs. But there are many permutations
  // here. Flexport may be responsible for freight movement _after_ the CFS as well. Flexport
  // may either directly submit the in-bond declaration or the third-party broker may submit it.
  // Even if the customer doesn't explicitly request in-bond transit, our internal planning systems
  // may decide it makes sense to move cargo in-bond as part of providing full clearance.
  //
  // As of February 2021, we are still iterating on the separation of the order and plan layer here.
  google.protobuf.BoolValue wants_in_bond_transit = 12;
  google.protobuf.BoolValue wants_commercial_invoice_transcription = 13;
  // Specifies if the client wants in-bond transit specifically for rail shipments.
  // The field 'wants_in_bond_transit' (id 12) applies for trucking.
  google.protobuf.BoolValue wants_in_bond_transit_for_rail = 15;
}

// Flexport role in t86 customs.
enum T86CustomsClearanceRole {
  T86_CUSTOMS_CLEARANCE_ROLE_INVALID = 0;
  T86_CUSTOMS_CLEARANCE_ROLE_FULL_SERVICE = 1;
  T86_CUSTOMS_CLEARANCE_ROLE_NO_INVOLVEMENT = 2;
}

// Flexport role in import customs.
enum ImportCustomsClearanceRole {
  IMPORT_CUSTOMS_CLEARANCE_ROLE_INVALID = 0;
  IMPORT_CUSTOMS_CLEARANCE_ROLE_FULL_SERVICE = 1;
  IMPORT_CUSTOMS_CLEARANCE_ROLE_NO_INVOLVEMENT = 2;
}

// Flexport role in ISF submission.
// https://flexport.atlassian.net/wiki/spaces/CU/pages/575996086/How+to+use+new+ISF+Service+Settings
enum ImporterSecurityFilingRole {
  IMPORTER_SECURITY_FILING_ROLE_INVALID = 0;
  //
  // Flexport files ISF directly.
  IMPORTER_SECURITY_FILING_ROLE_FULL_SERVICE = 1;
  //
  // Flexport is responsible for sending an ISF worksheet to the third-party broker filing ISF.
  IMPORTER_SECURITY_FILING_ROLE_SEND_WORKSHEET_TO_THIRD_PARTY_BROKER = 2;
  //
  // Flexport is not directly involved in ISF.
  IMPORTER_SECURITY_FILING_ROLE_NO_INVOLVEMENT = 3;
}
