// TEAM: forwarding_platform

syntax = "proto3";

package flexport.executioncoordinator.executiontaskstateevent.v1;

option java_multiple_files = true;
option java_outer_classname = "ContainerLastFreeDayChangedProto";
option java_package = "com.flexport.executioncoordinator.executiontaskstateevent.v1";
option ruby_package = "Flexport::ExecutionCoordinator::ExecutionTaskStateEvent::V1";

import "flexport/os/v1/types/walltimedate/v1/wall_time_date.proto";

// The last date for which a container can be at port before causing a charge.
message ContainerLastFreeDayChanged {
  //
  // Container fid.
  string container_fid = 1;
  //
  // The fid of the immutable address instance this event relates to.
  string address_fid = 2;
  //
  // The last day of a period of free storage time in which the cargo can be picked up from a port without paying demurrage.
  flexport.os.v1.types.walltimedate.v1.WallTimeDate last_free_day = 3;
  //
  // The status of the last free day of the corresponding container.
  LastFreeDayStatus last_free_day_status = 4;
}

// The status of the last free day date. go/j/TRUCK-1352
enum LastFreeDayStatus {
  // The status could also be unknown.
  LAST_FREE_DAY_STATUS_INVALID = 0;
  // Trackable containers that are still on-ship status or before.
  LAST_FREE_DAY_STATUS_PENDING = 1;
  // LFD is present
  LAST_FREE_DAY_STATUS_AVAILABLE = 2;
  // The container is not trackable or if LFD is explicitly not available
  LAST_FREE_DAY_STATUS_NOT_PROVIDED = 3;
}
